---
sidebar: sidebar
permalink: task-set-up-aws-permissions-private.html
keywords: permissions, aws, assume role, assume iam role, access keys, private mode
summary: BlueXP requires permissions to deploy Cloud Volumes ONTAP in your AWS account. You can set up an IAM role or access keys in AWS and then add the credentials to BlueXP.
---

= Provide AWS permissions
:hardbreaks:
:nofooter:
:icons: font
:linkattrs:
:imagesdir: ./media/

[.lead]
BlueXP requires permissions to deploy Cloud Volumes ONTAP in your AWS account. You can set up an IAM role or access keys in AWS and then add the credentials to BlueXP.

The contents of this page are specific to BlueXP when operating in private mode in the cloud. link:concept-modes.html[Learn more about supported deployment modes].

== Set up permissions in AWS

How you set up the permissions depends on whether you want to provide BlueXP with the ARN of a role in a trusted account or AWS keys.

*Choices*

* <<Assume an IAM role in another account>>
* <<Provide AWS keys>>

=== Assume an IAM role in another account

You can use an IAM role to set up a trust relationship between the source AWS account in which you deployed the Connector and other AWS accounts. You would then provide BlueXP with the ARN of the IAM role from the trusted accounts.

.Steps

. Go to the IAM console in the target account in which you want to provide the Connector with permissions.

. Under Access Management, click *Roles > Create Role* and follow the steps to create the role.
+
Be sure to do the following:

* Under *Trusted entity type*, select *AWS account*.
* Select *Another AWS account* and enter the ID of the account where the Connector instance resides.
* Create the required policies by copying and pasting the contents of link:reference-permissions-aws.html[the IAM policies for the Connector].

. Copy the Role ARN of the IAM role so that you can paste it in BlueXP later on.

.Result

The account now has the required permissions. <<Add the credentials to BlueXP,You can now add the credentials to BlueXP>>.

=== Provide AWS keys

If you want to provide BlueXP with AWS keys for an IAM user, then you need to grant the required permissions to that user. The BlueXP IAM policy defines the AWS actions and resources that BlueXP is allowed to use.

.Steps

. From the IAM console, create policies by copying and pasting the contents of link:reference-permissions-aws.html[the IAM policies for the Connector].
+
https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_create.html[AWS Documentation: Creating IAM Policies^]

. Attach the policies to an IAM role or an IAM user.
+
* https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create.html[AWS Documentation: Creating IAM Roles^]
* https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_manage-attach-detach.html[AWS Documentation: Adding and Removing IAM Policies^]

.Result

The account now has the required permissions. <<Add the credentials to BlueXP,You can now add the credentials to BlueXP>>.

== Add the credentials to BlueXP

After you provide an AWS account with the required permissions, you can add the credentials for that account to BlueXP. This enables you to launch Cloud Volumes ONTAP systems in that account using the same Connector.

.Before you get started

If you just created these credentials in your cloud provider, it might take a few minutes until they are available for use. Wait a few minutes before you add the credentials to BlueXP.

.Steps

. In the upper right of the BlueXP console, click the Settings icon, and select *Credentials*.
+
image:screenshot_settings_icon.gif[A screenshot that shows the Settings icon in the upper right of the BlueXP console.]

. Click *Add Credentials* and follow the steps in the wizard.

.. *Credentials Location*: Select *Amazon Web Services > Connector*.

.. *Define Credentials*: Provide the ARN (Amazon Resource Name) of a trusted IAM role, or enter an AWS access key and secret key.

.. *Marketplace Subscription*: Skip this step.

.. *Review*: Confirm the details about the new credentials and click *Add*.

.Result

BlueXP users can now use these credentials when creating a new Cloud Volumes ONTAP working environment.